{"ast":null,"code":"import axios from \"axios\";\nexport const TOTAL_LIKES = \"TOTAL_LIKES\";\nexport const countTotalLikes = username => {\n  return dispatch => {\n    axios.get(\"http://localhost:5000/posts\").then(response => {\n      let posts = response.data;\n      console.log(posts);\n      let userPosts = posts.filter(post => {\n        return post.username = username;\n      }).catch(err => {\n        console.log(err);\n      });\n      console.log(userPosts);\n      let totalLikes = 0;\n      userPosts.forEach(post => {\n        totalLikes += Number(post.likes); //is post.likes a number\n\n        return totalLikes;\n      }).catch(err => {\n        console.log(err);\n      });\n      console.log(totalLikes);\n    }).then(totalLikes => {\n      dispatch({\n        type: TOTAL_LIKES,\n        totalLikes: totalLikes\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};","map":{"version":3,"sources":["/Users/Tao.S/Desktop/WebDev/MA/Front-end/src/store/actions/user_actions.tsx"],"names":["axios","TOTAL_LIKES","countTotalLikes","username","dispatch","get","then","response","posts","data","console","log","userPosts","filter","post","catch","err","totalLikes","forEach","Number","likes","type"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,WAAW,GAAG,aAApB;AAEP,OAAO,MAAMC,eAAe,GAAIC,QAAD,IAAsB;AACjD,SAAQC,QAAD,IAAmB;AACtBJ,IAAAA,KAAK,CAACK,GAAN,CAAU,6BAAV,EAAyCC,IAAzC,CAA+CC,QAAD,IAAc;AAE5D,UAAIC,KAAU,GAAGD,QAAQ,CAACE,IAA1B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AAEA,UAAII,SAAS,GAAGJ,KAAK,CAACK,MAAN,CAAcC,IAAD,IAAe;AACxC,eAAOA,IAAI,CAACX,QAAL,GAAgBA,QAAvB;AACH,OAFe,EAEbY,KAFa,CAENC,GAAD,IAAc;AAACN,QAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AAAiB,OAFzB,CAAhB;AAIAN,MAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ;AAEA,UAAIK,UAAU,GAAG,CAAjB;AAEAL,MAAAA,SAAS,CAACM,OAAV,CAAmBJ,IAAD,IAAe;AAC7BG,QAAAA,UAAU,IAAIE,MAAM,CAACL,IAAI,CAACM,KAAN,CAApB,CAD6B,CAE7B;;AACA,eAAOH,UAAP;AACH,OAJD,EAIGF,KAJH,CAIUC,GAAD,IAAc;AAACN,QAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AAAiB,OAJzC;AAMAN,MAAAA,OAAO,CAACC,GAAR,CAAYM,UAAZ;AAEC,KArBD,EAqBGX,IArBH,CAqBSW,UAAD,IAAe;AACnBb,MAAAA,QAAQ,CAAC;AACLiB,QAAAA,IAAI,EAAEpB,WADD;AAELgB,QAAAA,UAAU,EAAEA;AAFP,OAAD,CAAR;AAGG,KAzBP,EAyBSF,KAzBT,CAyBgBC,GAAD,IAAa;AAACN,MAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AAAiB,KAzB9C;AA0BH,GA3BD;AA4BH,CA7BM","sourcesContent":["import axios from \"axios\";\n\nexport const TOTAL_LIKES = \"TOTAL_LIKES\";\n\nexport const countTotalLikes = (username: string) => {\n    return (dispatch: any) => {\n        axios.get(\"http://localhost:5000/posts\").then((response) => {\n        \n        let posts: any = response.data;\n        console.log(posts);\n     \n        let userPosts = posts.filter((post: any) => {\n            return post.username = username;\n        }).catch((err:any ) => {console.log(err)});\n\n        console.log(userPosts);\n\n        let totalLikes = 0; \n\n        userPosts.forEach((post: any) => {\n            totalLikes += Number(post.likes);\n            //is post.likes a number\n            return totalLikes\n        }).catch((err:any ) => {console.log(err)});\n\n        console.log(totalLikes);\n\n        }).then((totalLikes)=> {\n            dispatch({\n                type: TOTAL_LIKES,\n                totalLikes: totalLikes,\n            })}).catch((err:any) => {console.log(err)});\n    };\n}\n"]},"metadata":{},"sourceType":"module"}