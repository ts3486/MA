{"ast":null,"code":"import axios from\"axios\";export var TOTAL_LIKES=\"TOTAL_LIKES\";export var countTotalLikes=function countTotalLikes(username){return function(dispatch){axios.get(\"http://localhost:5000/posts\").then(function(response){var posts=response.data;console.log(posts);var userPosts=posts.filter(function(post){return post.username=username;});// console.log(userPosts);\nvar totalLikes=0;userPosts.forEach(function(post){totalLikes+=Number(post.likes);//is post.likes a number\nreturn totalLikes;});return totalLikes;// console.log(totalLikes);\n}).then(function(totalLikes){dispatch({type:TOTAL_LIKES,totalLikes:totalLikes});});// .catch((err:any) => {console.log(err)});\n};};","map":{"version":3,"sources":["/Users/Tao.S/Desktop/WebDev/MA/frontend/src/store/actions/user_actions.tsx"],"names":["axios","TOTAL_LIKES","countTotalLikes","username","dispatch","get","then","response","posts","data","console","log","userPosts","filter","post","totalLikes","forEach","Number","likes","type"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,WAAW,CAAG,aAApB,CAEP,MAAO,IAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,QAAD,CAAsB,CACjD,MAAO,UAACC,QAAD,CAAmB,CACtBJ,KAAK,CAACK,GAAN,CAAU,6BAAV,EAAyCC,IAAzC,CAA8C,SAACC,QAAD,CAAc,CAE5D,GAAIC,CAAAA,KAAU,CAAGD,QAAQ,CAACE,IAA1B,CACAC,OAAO,CAACC,GAAR,CAAYH,KAAZ,EAEA,GAAII,CAAAA,SAAS,CAAGJ,KAAK,CAACK,MAAN,CAAa,SAACC,IAAD,CAAe,CACxC,MAAOA,CAAAA,IAAI,CAACX,QAAL,CAAgBA,QAAvB,CACH,CAFe,CAAhB,CAIA;AAEA,GAAIY,CAAAA,UAAU,CAAG,CAAjB,CAEAH,SAAS,CAACI,OAAV,CAAkB,SAACF,IAAD,CAAe,CAC7BC,UAAU,EAAIE,MAAM,CAACH,IAAI,CAACI,KAAN,CAApB,CACA;AACA,MAAOH,CAAAA,UAAP,CACH,CAJD,EAMA,MAAOA,CAAAA,UAAP,CACA;AAEC,CAtBD,EAsBGT,IAtBH,CAsBQ,SAACS,UAAD,CAAe,CACnBX,QAAQ,CAAC,CACLe,IAAI,CAAElB,WADD,CAELc,UAAU,CAAEA,UAFP,CAAD,CAAR,CAIH,CA3BD,EA4BA;AACH,CA9BD,CA+BH,CAhCM","sourcesContent":["import axios from \"axios\";\n\nexport const TOTAL_LIKES = \"TOTAL_LIKES\";\n\nexport const countTotalLikes = (username: string) => {\n    return (dispatch: any) => {\n        axios.get(\"http://localhost:5000/posts\").then((response) => {\n        \n        let posts: any = response.data;\n        console.log(posts);\n     \n        let userPosts = posts.filter((post: any) => {\n            return post.username = username;\n        })\n\n        // console.log(userPosts);\n\n        let totalLikes = 0; \n\n        userPosts.forEach((post: any) => {\n            totalLikes += Number(post.likes);\n            //is post.likes a number\n            return totalLikes\n        })\n        \n        return totalLikes;\n        // console.log(totalLikes);\n\n        }).then((totalLikes)=> {\n            dispatch({\n                type: TOTAL_LIKES,\n                totalLikes: totalLikes,\n            })\n        })\n        // .catch((err:any) => {console.log(err)});\n    };\n}\n"]},"metadata":{},"sourceType":"module"}